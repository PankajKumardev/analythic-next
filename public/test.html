<!DOCTYPE html>
<html>
<head>
  <title>Tracker Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .card {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-bottom: 20px;
    }
    button {
      background: #4F46E5;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
    }
    button:hover {
      background: #4338CA;
    }
    .status {
      margin-top: 20px;
      padding: 15px;
      background: #E0F2FE;
      border-radius: 8px;
      color: #0369A1;
    }
    .instructions {
      margin-top: 20px;
      padding: 15px;
      background: #FEF3C7;
      border-radius: 8px;
      color: #92400E;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>üî¨ Analythic Tracker Test</h1>
    
    <p>This page tests the Analythic tracking script.</p>
    
    <button onclick="testPageview()">Track Pageview</button>
    <button onclick="testCustomEvent()">Track Custom Event</button>
    <button onclick="testButtonClick()">Track Button Click</button>
    
    <div class="status" id="status">
      Status: Waiting for action...
    </div>
    
    <div class="instructions">
      <strong>üìù Instructions:</strong>
      <ol>
        <li>Replace <code>YOUR_WRITE_KEY</code> below with a real project writeKey</li>
        <li>Open browser DevTools ‚Üí Network tab</li>
        <li>Click buttons above and watch for POST requests to <code>/api/track</code></li>
        <li>Check your MongoDB to verify events are being stored</li>
      </ol>
    </div>
  </div>

  <!-- Test write key for local development -->
  <script src="/tracker.js" data-key="test-write-key-12345"></script>
  
  <script>
    function updateStatus(message) {
      document.getElementById('status').innerHTML = 'Status: ' + message;
    }
    
    function testPageview() {
      if (window.analythic) {
        analythic.track('pageview');
        updateStatus('‚úÖ Pageview tracked!');
      } else {
        updateStatus('‚ùå Tracker not loaded');
      }
    }
    
    function testCustomEvent() {
      if (window.analythic) {
        analythic.track('custom', { 
          action: 'test',
          category: 'demo'
        });
        updateStatus('‚úÖ Custom event tracked!');
      } else {
        updateStatus('‚ùå Tracker not loaded');
      }
    }
    
    function testButtonClick() {
      if (window.analythic) {
        analythic.track('click', { 
          button: 'test_button',
          position: 'center'
        });
        updateStatus('‚úÖ Button click tracked!');
      } else {
        updateStatus('‚ùå Tracker not loaded');
      }
    }
  </script>
</body>
</html>
